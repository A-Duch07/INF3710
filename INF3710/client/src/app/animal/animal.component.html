<div id="animal">
  <h1>Animal</h1>

  <div class="divider"></div>

  <div class="container contentSelect">
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <label class="input-label" for="hotelSelect">Rechercher pour votre animal : </label> &nbsp;
      </div>
      <input
        class="custom-input"
        placeholder="Veuillez écrire le nom de votre animal ..."
        id="animalInput"
        (input)="updateTextboxSearch($event.target.value)"
      >
      <button class="search-button">
        Rechercher
      </button>
    </div>
  </div>

  <div class="container contentSelect">
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <label class="input-group-text" for="hotelSelect">Clinique</label>
      </div>
      <select
        class="custom-select"
        id="clinicSelect"
        (change)="updateSelectedClinic($event.target.options.selectedIndex)"
      >
        <option *ngFor="let clinic of clinicPKs">{{ clinic }}</option>
      </select>
    </div>
  </div>

  <div class="container contentSelect">
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <label class="input-group-text" for="roomSelect">Propriétaire</label>
      </div>
      <select
        class="custom-select"
        id="ownerSelect"
        (change)="updateSelectedOwner($event.target.options.selectedIndex)"
      >
        <option *ngFor="let ownerNB of ownerNBs">{{ ownerNB }}</option>
      </select>
    </div>
  </div>

  <table id="ht" align="center" border="1" width="100%" class="table-striped table-hover">
    <thead class="header">
      <th class="contentCell">NUMÉRO ANIMAL</th>
      <th class="contentCell">NUMÉRO CLINIQUE</th>
      <th class="contentCell">NUMÉRO PROPRIÉTAIRE</th>
      <th class="contentCell">NOM</th>
      <th class="contentCell">TYPE</th>
      <th class="contentCell">ESPÈCE</th>
      <th class="contentCell">TAILLE</th>
      <th class="contentCell">POIDS</th>
      <th class="contentCell">DESCRIPTION</th>
      <th class="contentCell">DATE NAISSANCE</th>
      <th class="contentCell">DATE INSCRIPTION</th>
      <th class="contentCell">ÉTAT</th>
      <th class="actionCell">ACTION</th>
    </thead>
    <tbody>
      <tr *ngFor="let animal of animals; let i = index">
        <td class="contentCell">{{ animal.animalnb }}</td>
        <td class="contentCell">{{ animal.clinicnb }}</td>
        <td class="contentCell">{{ animal.ownernb }}</td>
        <td class="contentCell" contenteditable="true" (blur)="changeAnimalName($event, i)">{{ animal.name }}</td>
        <td class="contentCell" contenteditable="true" (blur)="changeAnimalType($event, i)">{{ animal.type }}</td>
        <td class="contentCell" contenteditable="true" (blur)="changeAnimalSpecies($event, i)">{{ animal.species }}</td>
        <td class="contentCell" contenteditable="true" (blur)="changeAnimalSize($event, i)">{{ animal.size }}</td>
        <td class="contentCell" contenteditable="true" (blur)="changeAnimalWeight($event, i)">{{ animal.weight }}</td>
        <td class="contentCell" contenteditable="true" (blur)="changeAnimalDescription($event, i)">{{ animal.description }}</td>
        <td class="contentCell" contenteditable="true" (blur)="changeAnimalDateOfBirth($event, i)">{{ animal.dateofbirth }}</td>
        <td class="contentCell" contenteditable="true" (blur)="changeAnimalDateInscription($event, i)">{{ animal.dateinscription }}</td>
        <td class="contentCell" contenteditable="true" (blur)="changeAnimalState($event, i)">{{ animal.state }}</td>
        <td class="actionCell">
          <button type="button" class="submitbtn" (click)="updateRoom(i)"> <i class="fa fa-edit"></i></button>
          <button type="button" class="deletebtn" (click)="deleteRoom(room.hotelnb, room.roomnb)">
            <i class="fa fa-trash-o"></i>
          </button>
        </td>
      </tr>
      <tr class="blank_row">
        <td class="contentCell">?</td>
        <td class="contentCell">{{selectedClinic}}</td>
        <td class="contentCell">{{selectedOwner}}</td>
        <td class="contentCell" contenteditable="true" #newAnimalName></td>
        <td class="contentCell" contenteditable="true" #newAnimalType></td>
        <td class="contentCell" contenteditable="true" #newAnimalSpecies></td>
        <td class="contentCell" contenteditable="true" #newAnimalSize></td>
        <td class="contentCell" contenteditable="true" #newAnimalWeight></td>
        <td class="contentCell" contenteditable="true" #newAnimalDescription></td>
        <td class="contentCell" contenteditable="true" #newAnimalDateOfBirth></td>
        <td class="contentCell" contenteditable="true" #newAnimalDateInscription></td>
        <td class="contentCell" contenteditable="true" #newAnimalState></td>
        <td class="contentCell"></td>
      </tr>
    </tbody>
  </table>

  <button type="button" class="btn" (click)="insertRoom()">+</button>
</div>
